system_title: LinkMind

models:
  # Landing is a MOE model provided by Beijing Landing Technologies
  - name: landing
    type: Landing
    enable: true
    model:  cascade,
      turing,qa,tree,proxy,
      image,
      landing-tts,landing-asr,
      video
    # Options for default, llm, image, voice and vision, line by line above.
    driver: ai.wrapper.impl.LandingAdapter
    api_key: sk-112121 # http://saas.landingbj.com/
    endpoint: http://117.157.184.24:58080/v1/chat/completions

  # FastChat is an open platform designed for training, deploying, and evaluating chatbots based on large language models.
  - name: fastchat
    type: Vicuna
    enable: false
    model: vicuna-13b,vicuna-7b,vicuna-7b-16k,vicuna-13B-16k,vicuna-33B
    driver: ai.llm.adapter.impl.VicunaAdapter
    api_address: http://localhost:8090/v1/chat/completions

  # ChatGPT is a state-of-the-art language model developed by OpenAI
  - name: chatgpt
    type: OpenAI
    enable: false
    model: gpt-3.5-turbo,gpt-4-1106-preview
    driver: ai.llm.adapter.impl.GPTAdapter
    api_key: your-api-key # https://platform.openai.com/

  # ChatGPT-Azure is a version of the ChatGPT model integrated into Microsoft Azure's suite of AI services.
  - name: chatgpt-azure
    type: Microsoft
    model: gpt-3.5-turbo,gpt-4-1106-preview,gpt-4o-20240513
    enable: true
    driver: ai.llm.adapter.impl.GPTAzureAdapter
    endpoint: https://dgman-north-central-us-gpt4.openai.azure.com/
    api_key: 56cac597a3c1477da3b83a60f67c6507

  - name: chatgpt-azure-east-us
    type: Microsoft
    model: east-us-gpt4o-latest-deploy
    enable: true
    driver: ai.llm.adapter.impl.GPTAzureAdapter
    endpoint: https://dgman-east-us-assistant.openai.azure.com/
    api_key: 4d528a5378334237b76f95fdcf378e1e

  - name: chatgpt-azure-east-us-mini
    type: Microsoft
    model: east-us-gpt4o-mini-deploy
    enable: true
    driver: ai.llm.adapter.impl.GPTAzureAdapter
    endpoint: https://dgman-east-us-assistant.openai.azure.com/
    api_key: 4d528a5378334237b76f95fdcf378e1e

  - name: chatgpt-azure-admin-m231f9dc-eastus2
    type: Microsoft
    model: gpt-4.1-nano
    enable: true
    driver: ai.llm.adapter.impl.GPTAzureAdapter
    endpoint: https://admin-m231f9dc-eastus2.openai.azure.com/
    api_key: d71aad316d69427e91b659dd19b95edc

  # qwen (TongyiQianwen) is an advanced large-scale language model developed by Alibaba Cloud
  - name: qwen
    type: Alibaba
    enable: true
    model:  qwen-turbo,
      qwen-plus,qwen-max,qwen-max-1201,qwen-max-longcontext,
      asr,
      vision,
      ocr
    # Options for default, llm, voice, vision and ocr, line by line above.
    driver: ai.wrapper.impl.AlibabaAdapter
    # help document https://help.aliyun.com/document_detail/2712195.html?spm=a2c4g.2712576.0.0.733b3374np40s0
    api_key: your-api-key # url address  https://bailian.console.aliyun.com/#/home
    access_key_id: your-access-key-id
    access_key_secret: your-access-key-secret

  # ERNIE Bot (WenxinYiyan) is an advanced large-scale language model developed by Baidu
  - name: ernie
    type: Baidu
    enable: true
    model:  ERNIE-Bot-turbo,
      ERNIE-Speed-128K,ERNIE-4.0-8K,ERNIE-3.5-8K-0205,ERNIE-3.5-4K-0205, ERNIE-3.5-8K-1222,
      Fuyu-8B,Stable-Diffusion-XL,
      translate,
      enhance,
      aiVideo
    # Options for default, llm, image, translate, image enhance and vision line by line above.
    driver: ai.wrapper.impl.BaiduAdapter
    # help document https://developer.baidu.com/article/detail.html?id=1089328
    # url address https://console.bce.baidu.com/qianfan/ais/console/applicationConsole/application
    app_id: your-app-id
    api_key: your-api-key
    secret_key: your-sercet-key

  # chatGLM is committed to building a new generation of cognitive intelligence models by Beijing Zhipu Huazhang Technology Co., LTD.
  - name: chatglm
    type: Zhipu
    enable: true
    model: glm-3-turbo,glm-4, glm-4v, glm-4-alltools
    driver: ai.llm.adapter.impl.ZhipuAdapter
    api_key: 35b7042a1699fc7c9d9d22c078f39423.mRQcEhtKzmYyCPqJ #  url address https://open.bigmodel.cn/usercenter/apikeys

  # Kimi is an intelligent assistant product developed by Moonshot AI.
  - name: kimi
    type: Moonshot
    enable: true
    model: moonshot-v1-8k,moonshot-v1-32k,moonshot-v1-128k
    driver: ai.llm.adapter.impl.MoonshotAdapter
    api_key: sk-8awyNSqv7us7Rg3o5Z567aS2iyw7q2Es66J6xGGaG8hgUAwJ  #  url address https://platform.moonshot.cn/console/api-keys

  # Baichuan is a new generation of open source large language model launched by Baichuan AI
  - name: baichuan
    type: Baichuan
    enable: true
    model: Baichuan2-Turbo,Baichuan2-Turbo-192k,Baichuan2-53B
    driver: ai.llm.adapter.impl.BaichuanAdapter
    api_key: your-api-key # url address https://platform.baichuan-ai.com/console/apikey

  # iFLYTEK Spark is an AI cognitive model developed by iFLYTEK, aiming to provide natural language interaction and generation capabilities
  - name: spark
    type: iFLYTEK
    enable: true
    model:  4.0Ultra,
      lite,generalv3,pro-128k,generalv3.5,max-32k,
      tti
    # Options for default, llm and image, line by line above.
    driver: ai.wrapper.impl.FlytekAdapter
    app_id: 948cf4b6
    #    api_key: 54f6e81f40a31d66d976496de895a7a4  # https://console.xfyun.cn/
    api_key: cvUdhNJQEFXOOHfDFtPx:wDeBmrxvJfwdyjFsIzQz  # https://console.xfyun.cn/
    secret_key: ZDYyMjNmMTlkYTE0YWRmOWUwZTYxNjYz   # https://console.xfyun.cn/

  - name: zhishu
    type: Zhishu-ds
    enable: true
    model: DeepSeek-R1-7B,qwen2.5-instruct
    driver: ai.llm.adapter.impl.OpenAIStandardAdapter
    api_address: http://47.95.158.33:22346/v2/chat/completions
    api_key: 123123

  - name: yitu
    type: Qwen
    enable: true
    model:  qwen2.5-72b-instruct
    driver: ai.llm.adapter.impl.OpenAIStandardAdapter
    api_address: https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions
    api_key: sk-f4f5565da70f49228a8f3fc2d231a543

  # ChatGPT is a state-of-the-art language model developed by OpenAI
  - name: ayenaspring
    type: Ayena
    enable: true
    model: ayenaspring-advanced-001
    driver: ai.llm.adapter.impl.AyenaAdapter
    api_key: sk-4a78244e7fab4af9ba2a3bf8eb3cacb4ldiehkid4h6tjkx2 # https://platform.openai.com/
    api_address: https://www.ayenaspring.com:8081/v2/chat/completions

  # SenseChat(RiRiXin) is a large language model developed by SenseTime
  - name: SenseChat
    type: SenseTime
    enable: true
    model: SenseChat-Turbo,SenseChat-FunctionCall,SenseChat-5,SenseChat-128K,SenseChat-32K #SenseChat
    driver: ai.llm.adapter.impl.SenseChatAdapter
    api_key: your-api-key
    secret_key: your-secret-key # url address https://console.sensecore.cn/iam/Security/access-key

  # Gemini is a family of multimodal large language models developed by Google DeepMind.
  - name: gemini
    type: Google
    enable: true
    model: gemini-1.5-flash-latest,gemini-1.5-flash-latest,gemini-1.0-pro,gemini-1.5-pro-latest
    driver: ai.llm.adapter.impl.GeminiAdapter
    api_key: your-api-key

  # Doubao(Doubao) is a AI tool developed by ByteDance based on the lark model
  - name: doubao
    type: ByteDance
    enable: true
    model:  doubao-pro-4k,
      doubao-pro-32k,
      openspeech
    # Options for default, llm and voice, line by line above.
    driver: ai.wrapper.impl.ByteDanceAdapter
    api_key: your-api-key
    app_id: your-app-id
    access_token: your-access-token
    alias: doubao-pro-4k=your_endpoint_id,doubao-pro-32k=your_endpoint_id

  # DeepSeek is an open source large language model launched by DeepSeek.
  - name: deepseek
    type: DeepSeek
    enable: true
    model: deepseek-chat
    driver: ai.llm.adapter.impl.DeepSeekAdapter
    api_address: https://api.deepseek.com/chat/completions
      # https://ark.cn-beijing.volces.com/api/v3/chat/completions
      # https://dashscope.aliyuncs.com/compatible-mode/v1
      # https://qianfan.baidubce.com/v2/chat/completions
    # https://api.lkeap.cloud.tencent.com/v1
    api_key: sk-8f41405229de4c8b8269fd4d18dcb29e # url address https://platform.deepseek.com/api_keys

include_models: model.yml


stores:

  vector:
    # Chroma is an AI-native open-source embedding database
    # The official website is https://www.trychroma.com/
    - name: chroma
      driver: ai.vector.impl.ChromaVectorStore
      default_category: default
      similarity_top_k: 20
      similarity_cutoff: 0.6
      parent_depth: 1
      child_depth: 1
      url: http://test.digimeta.com.cn:16990

  rag: # RAG enhances large language models by integrating external knowledge retrieval.
    vector: chroma
    term: elastic
    graph: landing
    enable: true
    priority: 10
    track: true
    default: "Please give prompt more precisely"
    use_rag: false

  medusa: # Medusa is a caching tool designed to accelerate the response of large models.
    enable: false
    algorithm: hash,graph,llm
    aheads: 1
    producer_thread_num: 1
    consumer_thread_num: 2
    flush: false
    cache_hit_window: 16
    cache_hit_ratio: 0.3
    temperature_tolerance: 0.1
    inits: '你好,
            介绍一下你自己,
            感冒发烧了，除了吃药还有哪些方法？,
            预测新能源汽车未来 5 年的发展趋势未来的发展趋势？
            推荐一些生日礼物,
            健康减脂食谱推荐,
            提供一些第一次一个人出门旅行的建议,
            我要去旅游，推荐几个小众好玩的地方,
            给我推荐一些中国必吃的美食,
            推荐一些好看的电影'

include_stores: store.yml


functions:
  embedding:
    - backend: qwen
      type: Qwen
      api_key: sk-f4f5565da70f49228a8f3fc2d231a543

  chat:
    context_length: 147072
    route: best((chatgpt-azure,chatgpt-azure-east-us))
    filter: sensitive,priority,stopping,continue
    backends:
      - backend: landing
        model: cascade
        enable: false
        stream: true
        priority: 10

      - backend: kimi
        model: moonshot-v1-128k
        enable: true
        stream: true
        priority: 100

      - backend: spark
        model: 4.0Ultra
        enable: true
        stream: true
        priority: 100

      - backend: chatglm
        model: glm-4-alltools
        enable: true
        stream: true
        priority: 80

      - backend: deepseek
        model: deepseek-chat
        enable: true
        stream: true
        priority: 80

      - backend: chatgpt-azure
        model: gpt-4o-20240513
        enable: true
        stream: true
        priority: 1600
        api_version: 2024-02-15-preview
        deployment: gpt-4o-20240513

      - backend: chatgpt-azure-east-us
        model: east-us-gpt4o-latest-deploy
        enable: true
        stream: true
        priority: 170
        api_version: 2025-01-01-preview
        deployment: east-us-gpt4o-latest-deploy

      - backend: chatgpt-azure-east-us-mini
        model: east-us-gpt4o-mini-deploy
        enable: true
        stream: true
        priority: 170
        api_version: 2025-01-01-preview
        deployment: east-us-gpt4o-mini-deploy

      - backend: chatgpt-azure-admin-m231f9dc-eastus2
        model: gpt-4.1-nano
        enable: true
        stream: true
        priority: 90
        api_version: 2025-01-01-preview
        deployment: gpt-4.1-nano

      - backend: zhishu
        model: qwen2.5-instruct
        enable: true
        stream: true
        priority: 80

      - backend: yitu
        model: qwen2.5-72b-instruct
        enable: true
        stream: true
        priority: 80

      - backend: ernie
        model: ERNIE-Speed-128K
        enable: false
        stream: true
        priority: 10

  translate:
    - backend: ernie
      model: translate
      enable: true
      priority: 10

  speech2text:
    - backend: qwen
      model: asr
      enable: true
      priority: 10

  text2speech:
    - backend: landing
      model: tts
      enable: true
      priority: 10

  speech2clone:
    - backend: doubao
      model: openspeech
      enable: true
      priority: 10
      others: your-speak-id

  text2image:
    - backend: spark
      model: tti
      enable: true
      priority: 10
    - backend: ernie
      model: Stable-Diffusion-XL
      enable: true
      priority: 5

  image2text:
    - backend: ernie
      model: Fuyu-8B
      enable: true
      priority: 10

  image2enhance:
    - backend: ernie
      model: enhance
      enable: true
      priority: 10

  text2video:
    - backend: landing
      model: video
      enable: true
      priority: 10

  image2video:
    - backend: qwen
      model: vision
      enable: true
      priority: 10

  video2track:
    - backend: landing
      model: video
      enable: true
      priority: 10

  video2enhance:
    - backend: qwen
      model: vision
      enable: true
      priority: 10

  doc2ocr:
    - backend: qwen
      model: qwen-vl-ocr
      enable: true
      priority: 15

  doc2instruct:
    - backend: landing
      model: cascade
      enable: true
      priority: 10

  text2sql:
    - backend: landing
      model: cascade
      enable: true
      priority: 10

  doc2ext:
    - backend: landing
      model: cascade
      enable: true
      priority: 10

  doc2struct:
    - backend: landing
      model: cascade
      enable: true
      priority: 10

  text2qa:
    enable: true
    model: gpt-4o-20240513


# The following is the configuration of agents, name is the name of the agent,
# type is the type of the agent, class is the implement class of the agent.

agents:

  # Agent for stock queries, providing stock market information, analysis, and related services.
  - name: stock
    wrong_case: 抱歉
    token: your-token
    app_id: your-app-id
    driver: ai.agent.chat.coze.CozeAgent

  # Agent for weather queries, helping users obtain real-time weather information and forecasts.
  - name: weather
    token: 608e9106a83367945955c772dd5217fe
    driver: ai.agent.customer.WeatherAgent

include_agents: agent.yml


# The following is the configuration of workers, name is the name of the worker,
# agent is the agent used by the worker, class is the implement class of the worker.
workers:
  - name: qq-robot
    agent: qq
    route: pass(qq)
    worker: ai.worker.social.RobotWorker

  - name: wechat-robot
    agent: wechat
    route: pass(wechat)
    worker: ai.worker.social.RobotWorker

  - name: ding-robot
    agent: ding
    route: pass(ding)
    worker: ai.worker.social.RobotWorker

  # Example for Airport Enhancement
  - name: asr4flights
    worker: ai.worker.social.Asr4FlightsWorker

  - name: BestWorker
    route: best(weather&oil)
    worker: ai.worker.DefaultBestWorker

  - name: appointedWorker
    route: pass(%)
    worker: ai.worker.DefaultAppointWorker


routers:
  - name: best
    rule: (|,&)
    # A|B -> polling,  A or B, means randomly round-robin within A and B;
    # A,B -> failover, first A, if A fail, then B;
    # A&B -> parallel, call A and B concurrently, choose the proper only one result;
    # The rule could be combined like ((A&B&C),(E|F)) which means first call ABC simultaneously, if fail, then call E or F randomly.

  - name: pass
    rule: (%)
    # % is a wildcard to represent agent name.
    # if specified, invoke this agent.
    # if just % is given, % would be decided by parameter at calling time.


mcps:
  # set default driver
  servers:
    - name: amap_mcp
      url: https://mcp.amap.com/sse?key=your-key

include_mcps: mcp.yml


# Filter rules for sensitive words or sentence, with priority and etc.
filters:
  # Sensitive words filter
  - name: sensitive
    groups:
      # Mask sensitive words/sentences with stars "*"
      - level: mask
        rules: 'openai,FLG,
                维尼熊,
                เสรีภาพ,ประชาธิปไตย,กษัตริย์,รัฐประหาร,สื่อ,ม็อบ,อิสรภาพ'
      # Erase sensitive words/sentences
      - level: erase
        # Rule Explanation: A single rule supports regular expressions but requires using \\, to replace the original ,
        rules: 'your context,
                根据\w{0\\,6}上下文,依据您提供的上下文,
                ぶんみゃくにもとづいて,せいじてき,いけん,しそう'
      # Block the output of sensitive words/sentences
      - level: block
        rules: 'shit,CNM,
                六四,
                цензура,протест,революция,права человека'
  # Index words with high priority
  - name: priority
    rules: 'car,weather,
            社*保'
  # Keywords to mark the lifecycle end of a multiple round conversation
  # Or the beginning of a new conversation.
  - name: stopping
    rules: 'bye,
            开始*'
  # Keywords to mark the continuation of conversation, within multiple round.
  - name: continue
    rules: 'about,next,then,
            资料'
